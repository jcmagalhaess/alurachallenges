{"ast":null,"code":"import { faComment, faHeart } from '@fortawesome/free-solid-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../comment/comment.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../code/code.component\";\nimport * as i4 from \"../comment/comment.component\";\nimport * as i5 from \"../badge/badge.component\";\nimport * as i6 from \"@angular/forms\";\nconst _c0 = [\"inputComment\"];\n\nconst _c1 = function (a0) {\n  return {\n    \"is-hidden\": a0\n  };\n};\n\nfunction ModalComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵlistener(\"click\", function ModalComponent_div_0_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.toggle();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelementStart(3, \"div\", 4);\n    i0.ɵɵelement(4, \"app-code\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵelementStart(7, \"h2\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 10);\n    i0.ɵɵelement(12, \"app-comment\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 12);\n    i0.ɵɵelementStart(14, \"div\", 13);\n    i0.ɵɵelement(15, \"app-badge\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"form\", 15);\n    i0.ɵɵelementStart(17, \"input\", 16, 17);\n    i0.ɵɵlistener(\"keyup.enter\", function ModalComponent_div_0_Template_input_keyup_enter_17_listener() {\n      i0.ɵɵrestoreView(_r3);\n\n      const _r1 = i0.ɵɵreference(18);\n\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.armazenarComentario(_r1.value);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c1, ctx_r0.abrirModal));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"color\", ctx_r0.feed.color);\n    i0.ɵɵpropertyInterpolate(\"syntax\", ctx_r0.feed.syntax);\n    i0.ɵɵproperty(\"limitHight\", false)(\"code\", ctx_r0.feed.code)(\"editable\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.feed.id, \" \", ctx_r0.feed.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.feed.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"comments\", ctx_r0.feed.comments);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"icon\", ctx_r0.faComment)(\"count\", ctx_r0.feed.comments.length);\n  }\n}\n\nexport let ModalComponent = /*#__PURE__*/(() => {\n  class ModalComponent {\n    constructor(_commentService) {\n      this._commentService = _commentService;\n      this.faComment = faComment;\n      this.faHeart = faHeart;\n      this.abrirModal = true;\n    }\n\n    ngOnInit() {}\n\n    toggle() {\n      this.abrirModal = !this.abrirModal;\n    }\n\n    armazenarComentario(comentario) {\n      const data = {\n        date: new Date(),\n        text: comentario\n      };\n      this.feed.comments.push({\n        date: data.date,\n        text: data.text\n      });\n\n      this._commentService.saveComment(this.feed.comments, this.feed.id).subscribe();\n\n      this.inputComment.nativeElement.value = '';\n    }\n\n  }\n\n  ModalComponent.ɵfac = function ModalComponent_Factory(t) {\n    return new (t || ModalComponent)(i0.ɵɵdirectiveInject(i1.CommentService));\n  };\n\n  ModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalComponent,\n    selectors: [[\"app-modal\"]],\n    viewQuery: function ModalComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputComment = _t.first);\n      }\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"c-modal\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"c-modal\", 3, \"ngClass\"], [1, \"c-modal__overlay\", 3, \"click\"], [1, \"c-modal__panel\"], [1, \"c-modal__editor\"], [3, \"color\", \"limitHight\", \"syntax\", \"code\", \"editable\"], [1, \"c-modal__informations\"], [1, \"c-modal__content\"], [1, \"c-modal__title\"], [1, \"c-modal__description\"], [1, \"c-modal__comments\"], [3, \"comments\"], [1, \"c-modal__actions\"], [1, \"c-modal__buttons\"], [3, \"icon\", \"count\"], [1, \"c-form\", \"u-mb--1\"], [\"type\", \"text\", 1, \"c-form__input\", 3, \"keyup.enter\"], [\"inputComment\", \"\"]],\n    template: function ModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ModalComponent_div_0_Template, 19, 14, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.feed);\n      }\n    },\n    directives: [i2.NgIf, i2.NgClass, i3.CodeComponent, i4.CommentComponent, i5.BadgeComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm],\n    styles: [\".c-modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;bottom:0;left:0;right:0}.c-modal__overlay[_ngcontent-%COMP%]{position:absolute;z-index:-1;background-color:#000000b3;width:100vw;height:100vh}.c-modal__panel[_ngcontent-%COMP%]{width:70vw;height:90%;max-height:90%;display:flex;background-color:var(--dark-blue);border-radius:8px}@media (max-width: 56.1875em){.c-modal__panel[_ngcontent-%COMP%]{width:90vw;flex-flow:column}}.c-modal__editor[_ngcontent-%COMP%]{width:50%}@media (max-width: 56.1875em){.c-modal__editor[_ngcontent-%COMP%]{width:auto;height:50%}}.c-modal__informations[_ngcontent-%COMP%]{--paddingInformations: calc(var(--padding)*2);width:calc(50% - var(--paddingInformations));padding:var(--paddingInformations);display:flex;flex-flow:column;justify-content:space-between}@media (max-width: 56.1875em){.c-modal__informations[_ngcontent-%COMP%]{width:auto;height:calc(50% - 60px)}}.c-modal__title[_ngcontent-%COMP%]{text-transform:uppercase;margin-block:var(--padding);font-size:14px;font-weight:600;line-height:18px;letter-spacing:.4em;border-bottom:5px solid;padding-block-end:var(--padding)}.c-modal__content[_ngcontent-%COMP%]{height:calc(90% - var(--paddingInformations));overflow-y:scroll;padding-inline-end:10px}@media (max-width: 56.1875em){.c-modal__content[_ngcontent-%COMP%]{height:calc(75% - var(--paddingInformations))}}.c-modal__actions[_ngcontent-%COMP%]{display:flex;flex-flow:column}.c-modal__buttons[_ngcontent-%COMP%]{display:flex}\"]\n  });\n  return ModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}