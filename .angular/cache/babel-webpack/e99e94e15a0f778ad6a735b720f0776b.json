{"ast":null,"code":"import hljs from 'highlight.js/lib/common';\nimport { faComment, faHeart } from '@fortawesome/free-solid-svg-icons';\nimport { debounceTime, distinctUntilChanged, filter, merge, switchMap, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../code/code.service\";\nimport * as i2 from \"src/app/community/community.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../components/modal/modal.component\";\nimport * as i5 from \"../components/code/code.component\";\nimport * as i6 from \"../components/badge/badge.component\";\nimport * as i7 from \"../components/avatar/avatar.component\";\n\nfunction CommunityComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelement(2, \"app-code\", 7, 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵelementStart(5, \"h2\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵelementStart(10, \"div\", 12);\n    i0.ɵɵelementStart(11, \"app-badge\", 13);\n    i0.ɵɵlistener(\"click\", function CommunityComponent_div_0_div_1_Template_app_badge_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const code_r6 = restoredCtx.$implicit;\n      i0.ɵɵnextContext(2);\n\n      const _r1 = i0.ɵɵreference(3);\n\n      _r1.toggle();\n\n      return _r1.feed = code_r6;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"app-badge\", 14, 15);\n    i0.ɵɵlistener(\"click\", function CommunityComponent_div_0_div_1_Template_app_badge_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const code_r6 = restoredCtx.$implicit;\n\n      const _r8 = i0.ɵɵreference(13);\n\n      return _r8.curtir(code_r6.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 16);\n    i0.ɵɵelement(15, \"app-avatar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const code_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"color\", code_r6.color);\n    i0.ɵɵpropertyInterpolate(\"syntax\", code_r6.syntax);\n    i0.ɵɵproperty(\"limitHight\", false)(\"code\", code_r6.code)(\"editable\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(code_r6.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(code_r6.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"icon\", ctx_r5.faComment)(\"count\", code_r6.comments.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"icon\", ctx_r5.faHeart)(\"status\", code_r6.statusLike)(\"count\", code_r6.countLike);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    \"t-feed--mansory\": false\n  };\n};\n\nfunction CommunityComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, CommunityComponent_div_0_div_1_Template, 16, 12, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const codes_r4 = ctx.ngIf;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", codes_r4);\n  }\n}\n\nfunction CommunityComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"N\\u00E3o h\\u00E1 dados\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst ESPERA_DIGITACAO = 300;\nexport let CommunityComponent = /*#__PURE__*/(() => {\n  class CommunityComponent {\n    constructor(_codesService, _communityService) {\n      this._codesService = _codesService;\n      this._communityService = _communityService;\n      this.todosCodes$ = this._codesService.read().pipe(tap(() => {\n        console.log('Fluxo incial');\n      }));\n      this.filtroPeloInput$ = this._communityService.postInput.valueChanges.pipe(debounceTime(ESPERA_DIGITACAO), tap(() => {\n        console.log('Fluxo do filtro');\n      }), tap(console.log), filter(valorDigitado => valorDigitado.length >= 3 || !valorDigitado.length), distinctUntilChanged(), switchMap(valorDigitado => this._codesService.read(valorDigitado)));\n      this.codes$ = merge(this.todosCodes$, this.filtroPeloInput$);\n      this.faComment = faComment;\n      this.faHeart = faHeart;\n    }\n\n    ngOnInit() {\n      hljs.highlightAll();\n    }\n\n  }\n\n  CommunityComponent.ɵfac = function CommunityComponent_Factory(t) {\n    return new (t || CommunityComponent)(i0.ɵɵdirectiveInject(i1.CodeService), i0.ɵɵdirectiveInject(i2.CommunityService));\n  };\n\n  CommunityComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CommunityComponent,\n    selectors: [[\"app-community\"]],\n    decls: 6,\n    vars: 4,\n    consts: [[\"class\", \"t-feed\", 3, \"ngClass\", 4, \"ngIf\", \"ngIfElse\"], [\"modal\", \"\"], [\"elseBlock\", \"\"], [1, \"t-feed\", 3, \"ngClass\"], [\"class\", \"t-feed__item\", 4, \"ngFor\", \"ngForOf\"], [1, \"t-feed__item\"], [1, \"t-editor\"], [3, \"color\", \"limitHight\", \"syntax\", \"code\", \"editable\"], [\"editor\", \"\"], [1, \"t-feed__content\"], [1, \"t-feed__title\"], [1, \"t-feed__interactions\", \"js-slide-down\"], [1, \"t-feed__actions\"], [3, \"icon\", \"count\", \"click\"], [3, \"icon\", \"status\", \"count\", \"click\"], [\"like\", \"\"], [1, \"t-feed__author\"]],\n    template: function CommunityComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CommunityComponent_div_0_Template, 2, 3, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelement(2, \"app-modal\", null, 1);\n        i0.ɵɵtemplate(4, CommunityComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(5);\n\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.codes$))(\"ngIfElse\", _r2);\n      }\n    },\n    directives: [i3.NgIf, i4.ModalComponent, i3.NgClass, i3.NgForOf, i5.CodeComponent, i6.BadgeComponent, i7.AvatarComponent],\n    pipes: [i3.AsyncPipe],\n    styles: [\".t-feed[_ngcontent-%COMP%]{grid-column-gap:var(--padding);column-gap:var(--padding);column-count:2}@media (min-width: 75em){.t-feed[_ngcontent-%COMP%]{column-count:3}}@media (max-width: 56.1875em){.t-feed[_ngcontent-%COMP%]{column-count:1}}.t-feed__item[_ngcontent-%COMP%]{width:auto;page-break-inside:avoid;break-inside:avoid;height:max-content;margin-block-end:calc(var(--margin) * 2.5);border-radius:8px;background-color:#00000029}@media (max-width: 56.1875em){.t-feed__item[_ngcontent-%COMP%]{width:100%}}.t-feed__item[_ngcontent-%COMP%]   .c-code__editor[_ngcontent-%COMP%]{overflow:hidden}.t-feed__item[_ngcontent-%COMP%]:hover{border-radius:0}.t-feed__content[_ngcontent-%COMP%]{padding:24px;display:flex;flex-flow:column}.t-feed__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block-end:0}.t-feed__title[_ngcontent-%COMP%]{font-weight:700;font-size:21px;line-height:31.5px;margin-block:0}.t-feed__interactions[_ngcontent-%COMP%]{padding:24px;padding-block-start:0;border-bottom-left-radius:8px;border-bottom-right-radius:8px;display:flex;justify-content:space-between}.t-feed__actions[_ngcontent-%COMP%]{display:flex;align-items:center}\"]\n  });\n  return CommunityComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}